# realesrgan-ncnn-vulkan

> [!NOTE]
>
> æˆ‘çš„è®¾å¤‡ä¿¡æ¯
>
> - ç”µè„‘ï¼šMacBook Airï¼ˆ2022ï¼‰
> - æ“ä½œç³»ç»Ÿï¼šmacOS
> - èŠ¯ç‰‡ï¼šApple M2
> - å†…å­˜ï¼š16GB
>
> å¤„ç†ä¸€ä¸ª 40 ç§’/60 å¸§çš„è§†é¢‘ï¼Œå¤§çº¦éœ€è¦ 50 åˆ†é’Ÿã€‚
>
> å…¶ä»–ç³»ç»Ÿè¯·åœ¨æ­¤ ğŸ‘‰ğŸ»[ä¸‹è½½](https://github.com/xinntao/Real-ESRGAN-ncnn-vulkan/releases/tag/v0.2.0)ğŸ‘ˆğŸ»

æ¨¡å‹ä½¿ç”¨å»ºè®®ï¼š

| æ¨¡å‹åç§°                  | è¯´æ˜                                                                                                                                         |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| `realesrgan-x4plus`       | **é€šç”¨æ¨¡å‹**ï¼Œé€‚åˆçœŸå®åœºæ™¯ã€äººç‰©ã€è¡—æ™¯ç­‰ã€‚<br>å¯¹è§†é¢‘ä¸­çš„äººåƒã€è¿åŠ¨ç»†èŠ‚ä¿ç•™æ•ˆæœè¾ƒå¥½ã€‚<br>å¦‚æœè¾“å‡ºçš„éƒ½æ˜¯é©¬èµ›å…‹ï¼Œå¯ä»¥è°ƒæ•´å‚æ•° `-s` å°†æ¯”ä¾‹æ”¾å¤§ã€‚ |
| `realesrgan-x4plus-anime` | é¢å‘**äºŒæ¬¡å…ƒåŠ¨ç”»/æ¼«ç”»**é£æ ¼ï¼Œä¸é€‚åˆçœŸå®äººç‰©è§†é¢‘ã€‚                                                                                            |
| `realesr-animevideov3`    | æ›´é€‚åˆåŠ¨æ¼«è§†é¢‘ï¼ˆè¿è´¯æ€§æ›´å¥½ï¼‰ï¼Œ**ä¸æ¨èç”¨äºçœŸäººè§†é¢‘**ã€‚                                                                                       |

## æå‡å›¾ç‰‡ç”»è´¨

```shell
./realesrgan-ncnn-vulkan -i [åŸå›¾ç‰‡è·¯å¾„] -o [æ–°å›¾ç‰‡è·¯å¾„] -n realesrgan-x4plus -s 2
```

## æå‡è§†é¢‘ç”»è´¨

### å°†è§†é¢‘è½¬ä¸ºå…³é”®å¸§

```shell
# æ–°å»ºå…³é”®å¸§ç›®å½•
touch tmp_frames

# è½¬ä¸ºå…³é”®å¸§
ffmpeg -i [è§†é¢‘è·¯å¾„] -qscale:v 1 -qmin 1 -qmax 1 -vsync 0 tmp_frames/frame%08d.jpg
```

### å¤„ç†æ¯ä¸€ä¸ªå…³é”®å¸§

```shell
# æ–°å»ºå¤„ç†åå…³é”®å¸§ç›®å½•
touch out_frames

# å¤„ç†å…³é”®å¸§
./realesrgan-ncnn-vulkan -i tmp_frames -o out_frames -n realesr-animevideov3 -s 2 -f jpg
```

### å°†å¤„ç†åçš„å…³é”®å¸§åˆæˆæ–°è§†é¢‘

```shell
ffmpeg -i out_frames/frame%08d.jpg -i [åŸè§†é¢‘è·¯å¾„] -map 0:v:0 -map 1:a:0 -c:a copy -c:v libx264 -r 23.98 -pix_fmt yuv420p [æ–°è§†é¢‘è·¯å¾„]
```

æŒ‡å®šå¸§ç‡ä¸º 60

```shell
ffmpeg -framerate 60 -i out_frames/frame%08d.jpg -i [åŸè§†é¢‘è·¯å¾„] -map 0:v:0 -map 1:a:0 -c:a copy -c:v libx264 -r 60 -pix_fmt yuv420p [æ–°è§†é¢‘è·¯å¾„]
```
